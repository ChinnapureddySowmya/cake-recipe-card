<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interactive Recipe Card</title>
  <style>
    :root{
      --bg:#0f172a;           /* slate-900 */
      --panel:#111827;        /* gray-900 */
      --muted:#1f2937;        /* gray-800 */
      --text:#e5e7eb;         /* gray-200 */
      --accent:#60a5fa;       /* blue-400 */
      --accent-2:#a78bfa;     /* violet-400 */
      --success:#34d399;      /* emerald-400 */
      --danger:#f87171;       /* red-400 */
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
      --radius-lg: 24px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      background: linear-gradient(135deg,var(--bg),#020617 60%);
      color:var(--text);
    }

    .wrap{
      max-width:1100px; margin:40px auto; padding:24px; 
    }

    .card{
      background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.06);
      border-radius:var(--radius-lg);
      box-shadow:var(--shadow);
      overflow:hidden;
    }

    .header{
      display:grid; grid-template-columns: 1.2fr 1fr; gap:20px; align-items:stretch;
      padding:20px; background:radial-gradient(1200px 600px at 0% -10%, rgba(96,165,250,.15), transparent 60%),
                               radial-gradient(900px 500px at 120% 0%, rgba(167,139,250,.1), transparent 60%);
    }

    .titlebox{padding:8px 8px 8px 12px}
    h1{margin:6px 0 10px; font-size:clamp(28px,3.5vw,42px); letter-spacing:.3px}
    .meta{display:flex; gap:12px; flex-wrap:wrap; opacity:.95}
    .badge{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08); font-size:14px}
    .dot{width:8px; height:8px; border-radius:999px; background:var(--accent)}

    .hero{
      position:relative; border-radius:16px; overflow:hidden; border:1px solid rgba(255,255,255,.08);
      margin-bottom: 10px;
    }
    /* Placeholder image (SVG) ‚Äî replace src with your dish image */
    .hero img{display:block; width:100%; height:100%; object-fit:cover}
    .img-caption{position:absolute; bottom:10px; right:10px; background:rgba(0,0,0,.45); padding:6px 10px; border-radius:10px; font-size:12px}

    .grid{display:grid; grid-template-columns: 1fr 1fr; gap:22px; padding:20px}

    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.06);
      border-radius:var(--radius);
      padding:18px; position:relative; overflow:hidden
    }
    .panel h2{margin:0 0 12px; font-size:22px}

    /* Collapsible sections */
    .collapsible{max-height:0; overflow:hidden; transition:max-height .5s ease, opacity .5s ease; opacity:.2}
    .collapsible.open{opacity:1}

    .toolbar{display:flex; gap:10px; flex-wrap:wrap; margin:12px 0 6px}
    button{
      appearance:none; border:none; cursor:pointer; color:var(--text); font-weight:600;
      background:linear-gradient(180deg,rgba(96,165,250,.18),rgba(167,139,250,.18));
      border:1px solid rgba(255,255,255,.12); padding:10px 14px; border-radius:12px; transition:transform .08s ease, filter .2s ease, background .3s ease
    }
    button:hover{filter:brightness(1.1)}
    button:active{transform:translateY(1px)}
    .btn-ghost{background:rgba(255,255,255,.06)}
    .btn-danger{background:linear-gradient(180deg,rgba(248,113,113,.25),rgba(239,68,68,.2))}

    /* Ingredient / step items */
    ul.ingredients{list-style:none; padding:0; margin:0}
    ul.ingredients li{padding:10px 12px; margin:6px 0; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.06); border-radius:12px; transition: background .25s ease, transform .12s ease}
    ul.ingredients li:hover{background:rgba(96,165,250,.15); transform: translateX(2px)}

    ol.steps{counter-reset:step; list-style:none; padding:0; margin:0}
    ol.steps li{position:relative; padding:12px 12px 12px 42px; margin:10px 0; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.06); border-radius:14px; transition: background .25s ease, transform .12s ease}
    ol.steps li::before{counter-increment:step; content: counter(step); position:absolute; left:10px; top:50%; transform:translateY(-50%); width:24px; height:24px; border-radius:999px; display:grid; place-items:center; background:rgba(96,165,250,.25); border:1px solid rgba(255,255,255,.14); font-size:13px}
    ol.steps li:hover{background:rgba(167,139,250,.12)}

    .active-step{background:rgba(52,211,153,.18) !important; box-shadow:0 0 0 2px rgba(52,211,153,.25) inset, 0 4px 16px rgba(0,0,0,.18)}
    .active-step::before{background:rgba(52,211,153,.35)}
    .pulse{animation:pulse 1.1s ease-in-out 2}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.01)}100%{transform:scale(1)}}

    /* Progress bar */
    .progress-wrap{height:10px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08); border-radius:999px; overflow:hidden; margin:10px 0 0}
    .progress{height:100%; width:0%; background:linear-gradient(90deg,var(--accent),var(--accent-2)); transition:width .4s ease}

    /* Timer */
    .timer{font-variant-numeric: tabular-nums; font-feature-settings:"tnum" on; padding:6px 10px; border-radius:10px; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08); display:inline-flex; align-items:center; gap:8px}

    /* Print styles */
    @media print{
      /* Hide everything by default */
      body * {
        display: none !important;
      }
      /* Only show the .hero image */
      .hero, .hero img {
        display: block !important;
        position: static !important;
        margin: 0 auto !important;
        box-shadow: none !important;
        border: none !important;
        background: none !important;
        width: 100% !important;
        height: auto !important;
        object-fit: contain !important;
      }
    }

    /* Responsive */
    @media (max-width: 900px){
      .header{grid-template-columns:1fr}
    }
    @media (max-width: 720px){
      .grid{grid-template-columns:1fr}
      .titlebox{padding:0}
    }

    /* Photo gallery styles */
    .photo-gallery {
      display: flex;
      gap: 10px;
      margin-top: 8px;
      justify-content: flex-end;
    }
    .photo-thumb {
      width: 60px;
      height: 40px;
      object-fit: cover;
      border-radius: 8px;
      border: 2px solid transparent;
      cursor: pointer;
      transition: border 0.2s;
      background: #222;
    }
    .photo-thumb.active,
    .photo-thumb:focus {
      border: 2px solid var(--accent);
      outline: none;
    }
    @media (max-width: 900px){
      .photo-gallery { justify-content: flex-start; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="article" aria-labelledby="title">
      <div class="header">
        <div class="titlebox">
          <h1 id="title">Chocolate Cake</h1>
          <div class="meta" aria-label="Recipe meta">
            <span class="badge"><span class="dot"></span> Prep: <strong id="prepMin">20</strong> min</span>
            <span class="badge"><span class="dot" style="background:var(--success)"></span> Serves: 8</span>
            <span class="badge"><span class="dot" style="background:var(--accent-2)"></span> Difficulty: Easy</span>
            <span class="badge timer" id="timerWrap" title="Starts when you click Start Cooking">‚è± <span id="timer">30:00</span></span>
          </div>
          <div class="toolbar controls" style="margin-top:14px">
            <button id="btnStart">Start Cooking</button>
            <button id="btnNext" class="btn-ghost" disabled>Next Step ‚ûú</button>
            <button id="btnReset" class="btn-danger">Reset</button>
          </div>
          <div class="progress-wrap" aria-label="Progress">
            <div class="progress" id="progress"></div>
          </div>
        </div>
        <figure class="hero" aria-label="Dish photo">
          <img id="mainPhoto" alt="Chocolate cake" src="images/Happy birthday cake images _ wallpapers.jpeg" />
          <figcaption class="img-caption">Tip: Right-click ‚Üí Save to print</figcaption>
        </figure>
        <div class="photo-gallery" id="photoGallery" aria-label="Recipe photos">
          <img class="photo-thumb active" src="images/image1.png" alt="Chocolate cake main" tabindex="0" data-index="0"/>
          <img class="photo-thumb" src="images/Male Happy Birthday Wishes Friends.jpeg" alt="Chocolate cake slice" tabindex="0" data-index="1"/>
          </div>
      </div>

      <div class="grid">
        <section class="panel" aria-labelledby="ing-title">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:12px">
            <h2 id="ing-title">Ingredients</h2>
            <div class="toolbar">
              <button class="btn-ghost" id="toggleIng" aria-expanded="false" aria-controls="ingredients">Show Ingredients</button>
            </div>
          </div>
          <div id="ingredients" class="collapsible" aria-hidden="true">
            <ul class="ingredients">
              <li>1‚Äâ¬Ω cups all-purpose flour</li>
              <li>1 cup sugar</li>png
              <li>¬º cup cocoa powder</li>
             <li>1 tsp baking soda</li>
              <li>¬Ω tsp salt</li>
              <li>1 cup warm water</li>
              <li>‚Öì cup vegetable oil</li>
              <li>1 tsp vanilla extract</li>
              <li>1 tsp vinegar</li>
            </ul>
          </div>
        </section>

        <section class="panel" aria-labelledby="steps-title">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:12px">
            <h2 id="steps-title">Steps</h2>
            <div class="toolbar">
              <button class="btn-ghost" id="toggleSteps" aria-expanded="false" aria-controls="steps">Show Steps</button>
            </div>
          </div>
          <div id="steps" class="collapsible" aria-hidden="true">
            <ol class="steps" id="stepsList">
              <li>Preheat oven to 180¬∞C (350¬∞F). Grease a 20cm round pan.</li>
              <li>Whisk dry ingredients in a large bowl.</li>
              <li>Add water, oil, vanilla, and vinegar. Whisk until smooth.</li>
              <li>Pour batter into pan and smooth the top.</li>
              <li>Bake 30‚Äì35 minutes until a skewer comes out clean.</li>
              <li>Cool completely, then slice and serve.</li>
            </ol>
          </div>
        </section>

        <section class="panel" aria-labelledby="notes-title">
          <h2 id="notes-title">Notes & Tips</h2>
          <p style="margin:0 0 8px">‚Ä¢ Swap water for hot coffee to boost chocolate flavor. <br/>‚Ä¢ Add chocolate chips for extra richness. <br/>‚Ä¢ For cupcakes, bake ~18‚Äì20 minutes.</p>
          <div class="toolbar">
            <button onclick="window.print()">üñ®Ô∏è Print</button>
          </div>
        </section>

        <section class="panel" aria-labelledby="about-title">
          <h2 id="about-title">About this Recipe</h2>
          <p style="margin:0">This demo shows collapsible sections, hover effects, transitions, a step-by-step highlighter with a progress bar, and an optional timer that starts with <em>Start Cooking</em>. Replace content with your own recipe and image.</p>
        </section>
      </div>
    </div>
  </div>

  <script>
    // Utility: smooth-open/smooth-close a collapsible div via max-height
    function setOpen(el, open){
      const isOpen = el.classList.contains('open');
      if(open && !isOpen){
        el.style.maxHeight = el.scrollHeight + 'px';
        el.classList.add('open');
        el.setAttribute('aria-hidden','false');
        // after transition, remove fixed height so content can expand responsively
        setTimeout(()=>{ el.style.maxHeight = 'none'; }, 500);
      }else if(!open && isOpen){
        el.style.maxHeight = el.scrollHeight + 'px'; // set current height
        requestAnimationFrame(()=>{
          el.style.maxHeight = '0px';
          el.classList.remove('open');
          el.setAttribute('aria-hidden','true');
        });
      }
    }

    const ing = document.getElementById('ingredients');
    const stepsEl = document.getElementById('steps');
    const toggleIng = document.getElementById('toggleIng');
    const toggleSteps = document.getElementById('toggleSteps');

    toggleIng.addEventListener('click', ()=>{
      const open = !ing.classList.contains('open');
      setOpen(ing, open);
      toggleIng.textContent = open ? 'Hide Ingredients' : 'Show Ingredients';
      toggleIng.setAttribute('aria-expanded', String(open));
    });

    toggleSteps.addEventListener('click', ()=>{
      const open = !stepsEl.classList.contains('open');
      setOpen(stepsEl, open);
      toggleSteps.textContent = open ? 'Hide Steps' : 'Show Steps';
      toggleSteps.setAttribute('aria-expanded', String(open));
    });

    // Step progression logic
    const stepsList = document.getElementById('stepsList');
    const steps = Array.from(stepsList.querySelectorAll('li'));
    const btnStart = document.getElementById('btnStart');
    const btnNext  = document.getElementById('btnNext');
    const btnReset = document.getElementById('btnReset');
    const progress = document.getElementById('progress');

    let activeIndex = -1;

    function updateProgress(){
      const pct = steps.length ? Math.max(0,(activeIndex+1)/steps.length)*100 : 0;
      progress.style.width = pct + '%';
    }

    function setActive(index){
      steps.forEach(li => li.classList.remove('active-step','pulse'));
      if(index >= 0 && index < steps.length){
        steps[index].classList.add('active-step','pulse');
      }
      activeIndex = index;
      btnNext.disabled = !(activeIndex >= 0 && activeIndex < steps.length-1);
      updateProgress();
    }

    btnStart.addEventListener('click', ()=>{
      // Ensure steps area is open
      if(!stepsEl.classList.contains('open')){ setOpen(stepsEl,true); toggleSteps.textContent='Hide Steps'; toggleSteps.setAttribute('aria-expanded','true'); }
      setActive(0);
      startTimer();
    });

    btnNext.addEventListener('click', ()=>{
      if(activeIndex < steps.length-1){ setActive(activeIndex+1); }
    });

    btnReset.addEventListener('click', ()=>{
      setActive(-1);
      stopTimer(true);
      updateProgress();
    });

    // Initialize progress (0%)
    updateProgress();

    // ====== Optional Timer ======
    const prepMinEl = document.getElementById('prepMin');
    const timerEl = document.getElementById('timer');
    const timerWrap = document.getElementById('timerWrap');

    let baseSeconds = parseInt(prepMinEl.textContent,10) * 60; // default from meta
    let remaining = baseSeconds;
    let tId = null;

    function fmt(s){
      const m = Math.floor(s/60).toString().padStart(2,'0');
      const sec = Math.floor(s%60).toString().padStart(2,'0');
      return `${m}:${sec}`;
    }

    function tick(){
      remaining = Math.max(0, remaining-1);
      timerEl.textContent = fmt(remaining);
      if(remaining === 0){
        stopTimer();
        timerWrap.style.background = 'rgba(52,211,153,.25)'; // success tint
      }
    }

    function startTimer(){
      stopTimer(true); // reset first
      timerWrap.style.background = 'rgba(255,255,255,.06)';
      remaining = baseSeconds;
      timerEl.textContent = fmt(remaining);
      tId = setInterval(tick,1000);
    }

    function stopTimer(reset){
      if(tId){ clearInterval(tId); tId = null; }
      if(reset){ remaining = baseSeconds; timerEl.textContent = fmt(remaining); timerWrap.style.background = 'rgba(255,255,255,.06)'; }
    }

    // Photo gallery logic
    const mainPhoto = document.getElementById('mainPhoto');
    const photoGallery = document.getElementById('photoGallery');
    if (photoGallery) {
      photoGallery.addEventListener('click', function(e) {
        if (e.target.classList.contains('photo-thumb')) {
          document.querySelectorAll('.photo-thumb').forEach(img => img.classList.remove('active'));
          e.target.classList.add('active');
          mainPhoto.src = e.target.src;
          mainPhoto.alt = e.target.alt;
        }
      });
      // Keyboard accessibility
      photoGallery.addEventListener('keydown', function(e) {
        if (e.target.classList.contains('photo-thumb') && (e.key === 'Enter' || e.key === ' ')) {
          e.preventDefault();
          e.target.click();
        }
      });
    }

    // Start with sections collapsed (accessible hint buttons show state)
    setOpen(ing,false); setOpen(stepsEl,false);
  </script>
</body>
</html>
